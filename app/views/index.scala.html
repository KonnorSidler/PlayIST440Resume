@(companies: List[Company])

@navBar("Home Page") {
<!DOCTYPE html>
<html>






<nav id="nav">
	<div class="innertube">
		<br>
		<h3>Search</h3>
		<ul>
			<li>Company</a></li>
			<li><select name="company" id="companyName">
				<option></option>
				@for(a <- companies) {
				<option>@a.getCompanyName()</option>
				}
			</select><br></li>
			<li><br></li>
<!--			<li>Date Range:</li>-->
<!--			<li>Start: </li>-->
<!--			<li> <input type="text" name="startdate"></a></li></li>-->
<!--			<li>End: </li>-->
<!--			<li>  <input type="text" name="enddate"></li>-->
<!--			<li><br></li>-->
			<li><button id="searchButton" onclick="searchByCompanyName()"> Start Search </button></li>
		</ul>


	</div>
</nav>


</body>

		<script type="text/javascript">
    function searchByCompanyName() {
        console.log("Searching for Company Name in Database");
        var companyName = document.getElementById("companyName").value;
        var data = {"companyName" : companyName};
        $.ajax({
            type : 'POST',
            url : '@routes.SearchController.getCompanyCode',
            data : JSON.stringify(data),
            dataType: 'html',
            contentType: 'application/json',
            success : function(data) {
                console.log("Search Succeeded");
                console.log(data);
                alert("Results Found");
                var newPageURL = "/search/results=" + data
                window.location.href = newPageURL;
            },
            error : function(data) {
                console.log("Company Not Found");

                alert("Company Not Found")
            }
        });
    }
</script>
</html>
}